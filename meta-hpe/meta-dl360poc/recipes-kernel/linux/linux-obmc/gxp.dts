/include/ "gxp.dtsi"

/ {
  #address-cells = <1>;
  #size-cells = <1>;
  compatible = "HPE,GXP";
  model = "dl360poc";

  chosen {
    bootargs = "earlyprintk console=ttyS0,115200 user_debug=31";
  };

  aliases {
    ethernet0 = &umac0;
    ethernet1 = &umac1;
  };

  memory@40000000 {
    device_type = "memory";
    reg = <0x40000000 0x20000000>;
  };

    xreg: xreg@d1000300 {
      compatible = "hpe,gxp-xreg", "simple-mfd", "syscon";
      reg = <0xd1000300 0xFF>;
      interrupts = <26>;
      interrupt-parent = <&vic0>;
      #gpio-cells = <2>;
      gpio-line-names =
      "", "", "", "", "", "", "POWER", "HEARTBEAT", "FAN1_INST", "FAN2_INST",
      "FAN3_INST", "FAN4_INST", "FAN5_INST", "FAN6_INST", "FAN7_INST", "FAN8_INST", "FAN9_INST", "FAN10_INST", "FAN11_INST", "FAN12_INST",
      "FAN13_INST", "FAN14_INST", "FAN15_INST", "FAN16_INST", "FAN1_FAIL", "FAN2_FAIL", "FAN3_FAIL", "FAN4_FAIL", "FAN5_FAIL", "FAN6_FAIL",
      "FAN7_FAIL", "FAN8_FAIL", "FAN9_FAIL", "FAN10_FAIL", "FAN11_FAIL", "FAN12_FAIL", "FAN13_FAIL", "FAN14_FAIL", "FAN15_FAIL", "FAN16_FAIL",
      "", "", "", "", "", "", "", "", "", "",
      "", "", "", "", "", "", "IDENTIFY", "HEALTH_RED", "HEALTH_AMBER", "POWER_BUTTON",
      "", "SIO_POWER_GOOD", "NMI_BUTTON", "RESET_BUTTON", "SIO_S5", "SIO_ONCONTROL", "", "", "", "",
      "", "", "", "", "", "", "", "", "", "",
      "", "", "", "", "", "", "", "", "", "",
      "", "", "", "", "", "", "", "", "", "";
    };

    leds: leds {
      compatible = "gpio-leds";

      power {
        gpios = <&xreg 6 0>;
        default-state = "off";
      };

      heartbeat {
        gpios = <&xreg 7 0>;
        default-state = "off";
      };

      identify {
        gpios = <&xreg 56 0>;
        default-state = "off";
      };

      health_red {
        gpios = <&xreg 57 0>;
        default-state = "off";
      };

      health_amber {
        gpios = <&xreg 58 0>;
        default-state = "off";
      };
    };

     vuhc {
        compatible = "gpio-keys-polled";
        poll-interval = <100>;
        PortOwner0 {
                label = "Port Owner";
               linux,code = <200>;
                gpios = <&gpio 250 1>;
              };

         PortOwner1 {
                label = "Port Owner";
                linux,code = <201>;
                gpios = <&gpio 251 1>;
        };
        PortOwner2 {
                label = "Port Owner";
                linux,code = <202>;
                gpios = <&gpio 252 1>;
        };
      };

  };
